#include <stdio.h>
#include "stdafx.h"
#include <string>
#include <iostream>
#include <sstream>
#include <vector>
#include <array>
#define maxWordLen 16
using namespace std;
array<char, 26> alphabet;
int capacity = 0;


void ClearAlphabet() {
	for (int i = 0; i < alphabet.size(); i++)
		alphabet[i] = '*';
}
void AddToDict(string word, vector<string> dict[16]) {

	dict[word.length() % maxWordLen].push_back(word);
	capacity++;
}
bool CompareStrs(string S1, string S2){

	return (int)S1.length()  < (int)S2.length();
}

vector<string> DelRepets(vector<string> originalSorted) {
	vector<string> line = originalSorted;
	for (int i = 1; i < line.size(); i++)
	{
		if (line[i - 1] == line[i]) {

			line.erase(line.begin() + i);
			i--;

		}
	}
	return line;
}
void ShowDecodedLine(vector<string> original_encLine) {

	for (int i = 0; i < original_encLine.size(); i++)
	{
		if (i != 0)
			cout << ' ';
		for (int j = 0; j < original_encLine[i].length(); j++)
		{
			cout << (char)(alphabet[original_encLine[i][j] - 97]);
		}
	}
	cout << endl;
}
vector<string> SameLengthDictWords(string encWord, vector<string> dict[16]) {
	return dict[encWord.length() % maxWordLen];
}

bool CompatableLetters(char letter, char dict_letter) {
	if (alphabet[letter - 97] == '*')
		return true;
	if (alphabet[letter - 97] == (char)dict_letter)
		return true;

	return false;
}

void UpdateAlphabet(char letter, char dict_letter)
{
	alphabet[letter - 97] = dict_letter;
}

bool Match(string encWord,string dictWord) {
	array<char, 26> originalAlphabet = alphabet;
	for (int i = 0; i < encWord.length(); i++)
	{
		if (!CompatableLetters(encWord[i], dictWord[i]))
		{
			alphabet = originalAlphabet;
			return false;
		}
		UpdateAlphabet(encWord[i], dictWord[i]);
	}
	return true;
}

void RemoveFromDict(string word,int pos, vector<string> dict[]) {
	vector<string> sameSize = dict[word.length() % maxWordLen];
	sameSize.erase(sameSize.begin() + pos);
	capacity--;
}
bool FindAlphabet(vector<string> toDecode, vector<string> dict[16])
{
	if (toDecode.empty())
		return true;
	int last = toDecode.size() - 1;

	vector<string> possibleDictWords = 
		SameLengthDictWords(toDecode[last], dict);
	
	for (int i = 0; i < possibleDictWords.size(); i++)
	{
		array<char, 26> originalAlphabet = alphabet;
		if (Match(toDecode[last], possibleDictWords[i])) {

			string tempWord = toDecode[last];
			toDecode.pop_back();
			vector<string> tempVector = possibleDictWords;
			RemoveFromDict(possibleDictWords[i], i,dict);
			if (FindAlphabet(toDecode,dict))
			{
				return true;
			}
			toDecode.push_back(tempWord);
			dict[toDecode[last].length() % maxWordLen] = tempVector;
			capacity++;
			alphabet = originalAlphabet;
		}
	}
	return false;

}
bool Decode(vector<string> encLine, vector<string> dict[16]) {
	vector<string> empty;

	if (FindAlphabet(encLine, dict)) {
		return true;
	}
	else {
		return false;
	}
}
void ShowAsteriskLine(vector<string> line) {

	for (int i = 0; i < line.size(); i++)
	{
		if (i != 0)
			cout << ' ';
		int len = line[i].length();
		for (int j = 0; j < len; j++)
		{
			cout << '*';
		}
	}
	cout << endl;
}
int main()
{
	vector<string> dict[16];

	ClearAlphabet();

	int n;
	scanf_s("%d", &n);
	for (int i = 0; i < n; i++)
	{
		string word;
		cin >> word;
		AddToDict(word, dict);
	}
	string input;
	scanf_s("\n");
	while (getline(cin, input))
	{
		string word;
		stringstream s(input);
		vector<string> encodedLine;

		bool isdecoded = true;
		while (s >> word)
		{			
			encodedLine.push_back(word);
		}
		vector<string> temp = encodedLine;
		sort(encodedLine.begin(), encodedLine.end(), CompareStrs);

		encodedLine = DelRepets(encodedLine);

		if (Decode(encodedLine, dict))

			ShowDecodedLine(temp);

		else

			ShowAsteriskLine(temp);
		
		ClearAlphabet();

	}
	return 0;
}
